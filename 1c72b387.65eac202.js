/*! For license information please see 1c72b387.65eac202.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{114:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return u})),n.d(t,"default",(function(){return d}));var a=n(1),l=n(6),r=(n(0),n(170)),c=n(175),o=n(174),i={title:"GCP Quickstart",sidebar_label:"GCP",description:"Run Pinot on GCP"},s={id:"administration/installation/cloud/gcp",title:"GCP Quickstart",description:"Run Pinot on GCP",source:"@site/docs/administration/installation/cloud/gcp.md",permalink:"/docs/administration/installation/cloud/gcp",editUrl:"https://github.com/apache/incubator-pinot/edit/master/website/docs/administration/installation/cloud/gcp.md",sidebar_label:"GCP",sidebar:"docs",previous:{title:"AWS Quickstart",permalink:"/docs/administration/installation/cloud/aws"},next:{title:"Azure Quickstart",permalink:"/docs/administration/installation/cloud/azure"}},u=[{value:"Tooling Installation",id:"tooling-installation",children:[{value:"Install Kubectl",id:"install-kubectl",children:[]},{value:"Install Helm",id:"install-helm",children:[]}]},{value:"Install Google Cloud SDK",id:"install-google-cloud-sdk",children:[{value:"For Mac User",id:"for-mac-user",children:[]},{value:"(Optional) Initialize Google Cloud Environment",id:"optional-initialize-google-cloud-environment",children:[]},{value:"(Optional) Create a Kubernetes cluster(GKE) in Google Cloud",id:"optional-create-a-kubernetes-clustergke-in-google-cloud",children:[]},{value:"Connect to an existing cluster",id:"connect-to-an-existing-cluster",children:[]},{value:"Pinot Quickstart",id:"pinot-quickstart",children:[]},{value:"Delete a Kubernetes Cluster",id:"delete-a-kubernetes-cluster",children:[]}]}],b={rightToc:u},p="wrapper";function d(e){var t=e.components,n=Object(l.a)(e,["components"]);return Object(r.b)(p,Object(a.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"To have basic set with ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://cloud.google.com/kubernetes-engine"}),"Google Kubernetes Engine(GKE)")," on GCP:"),Object(r.b)("h2",{id:"tooling-installation"},"Tooling Installation"),Object(r.b)("h3",{id:"install-kubectl"},"Install Kubectl"),Object(r.b)("p",null,"Please follow this link (",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://kubernetes.io/docs/tasks/tools/install-kubectl"}),"https://kubernetes.io/docs/tasks/tools/install-kubectl"),") to install kubectl."),Object(r.b)("p",null,"For Mac User"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"brew install kubernetes-cli\n")),Object(r.b)("p",null,"Please check kubectl version after installation."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"kubectl version\n")),Object(r.b)("p",null,"QuickStart scripts are tested under kubectl client version v1.16.3 and server version v1.13.12"),Object(r.b)("h3",{id:"install-helm"},"Install Helm"),Object(r.b)("p",null,"Please follow this ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://helm.sh/docs/using_helm/#installing-helm"}),"link to install helm")),Object(r.b)("p",null,"For Mac User"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"brew install kubernetes-helm\n")),Object(r.b)("p",null,"Please check helm version after installation."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"helm version\n")),Object(r.b)(c.a,{icon:!1,type:"info",mdxType:"Alert"},"This QuickStart provides helm supports for helm v3.0.0 and v2.12.1. Please pick the script based on your helm version."),Object(r.b)("h2",{id:"install-google-cloud-sdk"},"Install Google Cloud SDK"),Object(r.b)("p",null,"Please follow this link to ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://cloud.google.com/sdk/install"}),"install Google Cloud SDK")),Object(r.b)("h3",{id:"for-mac-user"},"For Mac User"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Install Google Cloud SDK")),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"curl https://sdk.cloud.google.com | bash\n")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Restart your shell")),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"exec -l $SHELL\n")),Object(r.b)("h3",{id:"optional-initialize-google-cloud-environment"},"(Optional) Initialize Google Cloud Environment"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"gcloud init\n")),Object(r.b)("h3",{id:"optional-create-a-kubernetes-clustergke-in-google-cloud"},"(Optional) Create a Kubernetes cluster(GKE) in Google Cloud"),Object(r.b)("p",null,"Below script will create a 3 nodes cluster named pinot-quickstart in ",Object(r.b)("inlineCode",{parentName:"p"},"us-west1-b")," with ",Object(r.b)("inlineCode",{parentName:"p"},"n1-standard-2")," machines for demo purposes."),Object(r.b)("p",null,"Please modify the parameters in the example command below:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"GCLOUD_PROJECT=[your gcloud project name]\nGCLOUD_ZONE=us-west1-b\nGCLOUD_CLUSTER=pinot-quickstart\nGCLOUD_MACHINE_TYPE=n1-standard-2\nGCLOUD_NUM_NODES=3\ngcloud container clusters create ${GCLOUD_CLUSTER} \\\n  --num-nodes=${GCLOUD_NUM_NODES} \\\n  --machine-type=${GCLOUD_MACHINE_TYPE} \\\n  --zone=${GCLOUD_ZONE} \\\n  --project=${GCLOUD_PROJECT}\n")),Object(r.b)("p",null,"You can monitor cluster status by command:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"gcloud compute instances list\n")),Object(r.b)("p",null,"Once the cluster is in RUNNING status, it's ready to be used."),Object(r.b)("h3",{id:"connect-to-an-existing-cluster"},"Connect to an existing cluster"),Object(r.b)("p",null,"Simply run below command to get the credential for the cluster pinot-quickstart that you just created or your existing cluster."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"GCLOUD_PROJECT=[your gcloud project name]\nGCLOUD_ZONE=us-west1-b\nGCLOUD_CLUSTER=pinot-quickstart\ngcloud container clusters get-credentials ${GCLOUD_CLUSTER} --zone ${GCLOUD_ZONE} --project ${GCLOUD_PROJECT}\n")),Object(r.b)("p",null,"To verify the connection, you can run:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"kubectl get nodes\n")),Object(r.b)("h3",{id:"pinot-quickstart"},"Pinot Quickstart"),Object(r.b)("p",null,"Please follow this ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/administration/installation/cloud/on-premises"}),"Kubernetes QuickStart")," to deploy your Pinot Demo."),Object(r.b)(o.a,{to:"/docs/administration/installation/cloud/on-premises",mdxType:"Jump"},"Kubernetes Quickstart"),Object(r.b)("h3",{id:"delete-a-kubernetes-cluster"},"Delete a Kubernetes Cluster"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"GCLOUD_ZONE=us-west1-b\ngcloud container clusters delete pinot-quickstart --zone=${GCLOUD_ZONE}\n")))}d.isMDXComponent=!0},170:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return b}));var a=n(0),l=n.n(a),r=l.a.createContext({}),c=function(e){var t=l.a.useContext(r),n=t;return e&&(n="function"==typeof e?e(t):Object.assign({},t,e)),n},o=function(e){var t=c(e.components);return l.a.createElement(r.Provider,{value:t},e.children)};var i="mdxType",s={inlineCode:"code",wrapper:function(e){var t=e.children;return l.a.createElement(l.a.Fragment,{},t)}},u=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,o=e.parentName,i=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(n[a]=e[a]);return n}(e,["components","mdxType","originalType","parentName"]),u=c(n),b=a,p=u[o+"."+b]||u[b]||s[b]||r;return n?l.a.createElement(p,Object.assign({},{ref:t},i,{components:n})):l.a.createElement(p,Object.assign({},{ref:t},i))}));function b(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,c=new Array(r);c[0]=u;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[i]="string"==typeof e?e:a,c[1]=o;for(var b=2;b<r;b++)c[b]=n[b];return l.a.createElement.apply(null,c)}return l.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},171:function(e,t,n){var a;!function(){"use strict";var n={}.hasOwnProperty;function l(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var r=typeof a;if("string"===r||"number"===r)e.push(a);else if(Array.isArray(a)&&a.length){var c=l.apply(null,a);c&&e.push(c)}else if("object"===r)for(var o in a)n.call(a,o)&&a[o]&&e.push(o)}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0===(a=function(){return l}.apply(t,[]))||(e.exports=a)}()},172:function(e,t,n){"use strict";var a=n(1),l=n(0),r=n.n(l),c=n(19),o=n(173),i=n(8),s=n.n(i);t.a=function(e){const{to:t,href:n}=e,i=t||n,u=Object(o.a)(i),b=Object(l.useRef)(!1),p=s.a.canUseIntersectionObserver;let d;return Object(l.useEffect)(()=>(!p&&u&&window.docusaurus.prefetch(i),()=>{p&&d&&d.disconnect()}),[i,p,u]),i&&u?r.a.createElement(c.b,Object(a.a)({},e,{onMouseEnter:()=>{b.current||(window.docusaurus.preload(i),b.current=!0)},innerRef:e=>{p&&e&&u&&((e,t)=>{d=new window.IntersectionObserver(n=>{n.forEach(n=>{e===n.target&&(n.isIntersecting||n.intersectionRatio>0)&&(d.unobserve(e),d.disconnect(),t())})}),d.observe(e)})(e,()=>{window.docusaurus.prefetch(i)})},to:i})):r.a.createElement("a",Object(a.a)({},e,{href:i}))}},173:function(e,t,n){"use strict";function a(e){return/^\/(?!\/)/.test(e)}n.d(t,"a",(function(){return a}))},174:function(e,t,n){"use strict";var a=n(0),l=n.n(a),r=n(172),c=n(171),o=n.n(c);n(93);t.a=function({children:e,className:t,badge:n,icon:a,size:c,target:i,to:s}){let u=o()("jump-to",`jump-to--${c}`,t),b=l.a.createElement("div",{className:"jump-to--inner"},l.a.createElement("div",{className:"jump-to--inner-2"},l.a.createElement("div",{className:"jump-to--main"},n?l.a.createElement("span",{className:"badge badge--primary badge--right"},n):"",e),l.a.createElement("div",{className:"jump-to--right"},l.a.createElement("i",{className:`feather icon-${a||"chevron-right"} arrow`}))));return i?l.a.createElement("a",{href:s,target:i,className:u},b):l.a.createElement(r.a,{to:s,className:u},b)}},175:function(e,t,n){"use strict";var a=n(0),l=n.n(a),r=n(171),c=n.n(r);n(94);t.a=function({children:e,classNames:t,fill:n,icon:a,type:r}){let o=null;switch(r){case"danger":o="alert-triangle";break;case"success":o="check-circle";break;case"warning":o="alert-triangle";break;default:o="info"}return l.a.createElement("div",{className:c()(t,"alert",`alert--${r}`,{"alert--fill":n,"alert--icon":!1!==a}),role:"alert"},!1!==a&&l.a.createElement("i",{className:c()("feather",`icon-${a||o}`)}),e)}}}]);